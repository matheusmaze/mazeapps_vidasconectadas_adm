{"version":3,"sources":["webpack:///./src/services/validate.ts","webpack:///./node_modules/cpf-cnpj-validator/dist/cpf-cnpj-validator.es.js","webpack:///./src/views/Adm/Instituicoes/create.vue","webpack:///./src/views/Adm/Instituicoes/create.vue?03fb"],"names":["isEmpty","payload","emptyFields","Object","entries","forEach","element","push","returnMessage","el","isEmail","email","re","test","String","toLowerCase","isBirthday","date","year","Date","getFullYear","yearValidate","split","length","Number","monthValidate","dayValidate","fullDateValidate","birthdayValidate","BLACKLIST","STRICT_STRIP_REGEX","LOOSE_STRIP_REGEX","verifierDigit","digits","numbers","map","number","parseInt","modulus","multiplied","index","mod","reduce","buffer","strip","strict","regex","replace","format","isValid","stripped","includes","substr","generate","formatted","i","Math","floor","random","cpf","BLACKLIST$1","STRICT_STRIP_REGEX$1","LOOSE_STRIP_REGEX$1","verifierDigit$1","reverse","concat","sum","strip$1","format$1","isValid$1","generate$1","cnpj","class","style","for","data","name","type","label","placeholder","code","phone_number","src","logo","readURL","changeImage","id","create","color","text","components","Input","Button","setup","loader","alert","router","alertProps","route","defaultLabel","substring","key","objRequest","FormData","item","value","append","cnpjValidate","emailValidate","validate","open","response","close","localStorage","removeItem","event","obj","target","files","file","window","URL","createObjectURL","render"],"mappings":"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","file":"js/chunk-04b3776b.db194e77.js","sourcesContent":["const isEmpty = (payload: object)  => {\r\n    const emptyFields: Array<string | void> = []\r\n    Object.entries(payload).forEach(element => {\r\n        if(element[1] === \"\"){\r\n            emptyFields.push(element[0])\r\n        }\r\n    });\r\n    let returnMessage = \"\"\r\n    emptyFields.forEach(el => {\r\n        el === 'name' ? el = 'Nome' : el;\r\n        el === 'birthday' ? el = 'Data de aniversário' : el;\r\n        el === 'document' ? el = 'CPF ou CNPJ' : el;\r\n        el === 'cpf' ? el = 'CPF' : el;\r\n        el === 'cnpj' ? el = 'CNPJ' : el;\r\n        el === 'phone_number' ? el = 'Whatsapp' : el;\r\n        el === 'email' ? el = 'E-mail' : el;\r\n        el === 'password' ? el = 'Senha' : el;\r\n        el === 'welcome_email' ? el = 'Boas-vindas' : el;\r\n        el === 'blood_donator' ? el = 'Doador de sangue' : el;\r\n        el === 'code' ? el = 'Código' : el;\r\n        el === 'logo' ? el = 'Logotipo' : el;\r\n        el === 'value' || el === 'fixed_value' ? el = 'Valor' : el;\r\n        el === 'description' ? el = 'Descrição' : el;\r\n        el === 'recurrence_day' ? el = 'Dia da doação' : el;\r\n        el === 'recurrence_interval' ? el = 'Recorrência' : el;\r\n        el === 'institutions_id' ? el = 'Instituição' : el;\r\n        el === 'users_id' ? el = 'Comprador' : el;\r\n        el === 'purchase_voucher' ? el = 'Comprovante de compra' : el;\r\n        el === 'created_at' || el === 'updated_at' ? el = 'Data' : el;\r\n\r\n        returnMessage += `* O Campo <b>${el}</b> está vazio <br/>`\r\n    })\r\n    return returnMessage\r\n}\r\n\r\n//isEmail retornará uma string em vez de boolean\r\nconst isEmail = (email: string): string => {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    const test = re.test(String(email).toLowerCase());\r\n    let returnMessage = \"\";\r\n    if(!test){\r\n        returnMessage = '* Email inválido.';\r\n    }\r\n    return returnMessage;\r\n}\r\n\r\nconst isBirthday = (date: string): boolean => {\r\n    const year = new Date().getFullYear();\r\n    let yearValidate = false;\r\n    if(date.split('/')[2] && date.split('/')[2].length === 4) {\r\n        if (Number(date.split('/')[2]) > (year - 110) && Number(date.split('/')[2]) <= year) {\r\n            yearValidate = true;\r\n        }\r\n    }\r\n    const monthValidate = Number(date.split('/')[1]) <= 12;\r\n    const dayValidate = Number(date.split('/')[0]) <= 31;\r\n    const fullDateValidate = date.length === 10 ? true : false;\r\n    const birthdayValidate = (yearValidate && monthValidate && dayValidate && fullDateValidate) ? true : false;\r\n    return birthdayValidate;\r\n}\r\n\r\n\r\n\r\nexport { isEmpty, isEmail, isBirthday }","/*!\n * cpf-cnpj-validator v1.0.3\n * (c) 2020-present Carvalho, Vinicius Luiz <carvalho.viniciusluiz@gmail.com>\n * Released under the MIT License.\n */\nconst BLACKLIST = [\r\n    '00000000000',\r\n    '11111111111',\r\n    '22222222222',\r\n    '33333333333',\r\n    '44444444444',\r\n    '55555555555',\r\n    '66666666666',\r\n    '77777777777',\r\n    '88888888888',\r\n    '99999999999',\r\n    '12345678909'\r\n];\r\nconst STRICT_STRIP_REGEX = /[.-]/g;\r\nconst LOOSE_STRIP_REGEX = /[^\\d]/g;\r\nconst verifierDigit = (digits) => {\r\n    const numbers = digits\r\n        .split('')\r\n        .map(number => {\r\n        return parseInt(number, 10);\r\n    });\r\n    const modulus = numbers.length + 1;\r\n    const multiplied = numbers.map((number, index) => number * (modulus - index));\r\n    const mod = multiplied.reduce((buffer, number) => buffer + number) % 11;\r\n    return (mod < 2 ? 0 : 11 - mod);\r\n};\r\nconst strip = (number, strict) => {\r\n    const regex = strict ? STRICT_STRIP_REGEX : LOOSE_STRIP_REGEX;\r\n    return (number || '').replace(regex, '');\r\n};\r\nconst format = (number) => {\r\n    return strip(number).replace(/^(\\d{3})(\\d{3})(\\d{3})(\\d{2})$/, '$1.$2.$3-$4');\r\n};\r\nconst isValid = (number, strict) => {\r\n    const stripped = strip(number, strict);\r\n    if (!stripped) {\r\n        return false;\r\n    }\r\n    if (stripped.length !== 11) {\r\n        return false;\r\n    }\r\n    if (BLACKLIST.includes(stripped)) {\r\n        return false;\r\n    }\r\n    let numbers = stripped.substr(0, 9);\r\n    numbers += verifierDigit(numbers);\r\n    numbers += verifierDigit(numbers);\r\n    return numbers.substr(-2) === stripped.substr(-2);\r\n};\r\nconst generate = (formatted) => {\r\n    let numbers = '';\r\n    for (let i = 0; i < 9; i += 1) {\r\n        numbers += Math.floor(Math.random() * 9);\r\n    }\r\n    numbers += verifierDigit(numbers);\r\n    numbers += verifierDigit(numbers);\r\n    return (formatted ? format(numbers) : numbers);\r\n};\r\nvar cpf = {\r\n    verifierDigit,\r\n    strip,\r\n    format,\r\n    isValid,\r\n    generate,\r\n};\n\nconst BLACKLIST$1 = [\r\n    '00000000000000',\r\n    '11111111111111',\r\n    '22222222222222',\r\n    '33333333333333',\r\n    '44444444444444',\r\n    '55555555555555',\r\n    '66666666666666',\r\n    '77777777777777',\r\n    '88888888888888',\r\n    '99999999999999'\r\n];\r\nconst STRICT_STRIP_REGEX$1 = /[-\\\\/.]/g;\r\nconst LOOSE_STRIP_REGEX$1 = /[^\\d]/g;\r\nconst verifierDigit$1 = (digits) => {\r\n    let index = 2;\r\n    const reverse = digits.split('').reduce((buffer, number) => {\r\n        return [parseInt(number, 10)].concat(buffer);\r\n    }, []);\r\n    const sum = reverse.reduce((buffer, number) => {\r\n        buffer += number * index;\r\n        index = (index === 9 ? 2 : index + 1);\r\n        return buffer;\r\n    }, 0);\r\n    const mod = sum % 11;\r\n    return (mod < 2 ? 0 : 11 - mod);\r\n};\r\nconst strip$1 = (number, strict) => {\r\n    const regex = strict ? STRICT_STRIP_REGEX$1 : LOOSE_STRIP_REGEX$1;\r\n    return (number || '').replace(regex, '');\r\n};\r\nconst format$1 = (number) => {\r\n    return strip$1(number).replace(/^(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})$/, '$1.$2.$3/$4-$5');\r\n};\r\nconst isValid$1 = (number, strict) => {\r\n    const stripped = strip$1(number, strict);\r\n    if (!stripped) {\r\n        return false;\r\n    }\r\n    if (stripped.length !== 14) {\r\n        return false;\r\n    }\r\n    if (BLACKLIST$1.includes(stripped)) {\r\n        return false;\r\n    }\r\n    let numbers = stripped.substr(0, 12);\r\n    numbers += verifierDigit$1(numbers);\r\n    numbers += verifierDigit$1(numbers);\r\n    return numbers.substr(-2) === stripped.substr(-2);\r\n};\r\nconst generate$1 = (formatted) => {\r\n    let numbers = '';\r\n    for (let i = 0; i < 12; i += 1) {\r\n        numbers += Math.floor(Math.random() * 9);\r\n    }\r\n    numbers += verifierDigit$1(numbers);\r\n    numbers += verifierDigit$1(numbers);\r\n    return (formatted ? format$1(numbers) : numbers);\r\n};\r\nvar cnpj = {\r\n    verifierDigit: verifierDigit$1,\r\n    strip: strip$1,\r\n    format: format$1,\r\n    isValid: isValid$1,\r\n    generate: generate$1\r\n};\n\nconst validator = joi => ({\r\n    type: 'document',\r\n    base: joi.string(),\r\n    messages: {\r\n        'document.cpf': 'CPF inválido',\r\n        'document.cnpj': 'CNPJ inválido'\r\n    },\r\n    rules: {\r\n        cpf: {\r\n            validate(value, helpers, args, options) {\r\n                if (!cpf.isValid(value)) {\r\n                    return helpers.error('document.cpf');\r\n                }\r\n                return value;\r\n            }\r\n        },\r\n        cnpj: {\r\n            validate(value, helpers, args, options) {\r\n                if (!cnpj.isValid(value)) {\r\n                    return helpers.error('document.cnpj');\r\n                }\r\n                return value;\r\n            }\r\n        }\r\n    }\r\n});\n\nexport default validator;\nexport { cpf, cnpj, validator };\n","<template>\r\n  <div class=\"my-6\">\r\n    <h3 class=\"font-bold text-primary\">\r\n      Criar uma nova instituição\r\n    </h3>\r\n    <span class=\"text-sm text-gray-500\"\r\n      >Preencha as informações abaixo e clique no botão <b>cadastrar</b> para\r\n      confirmar a criação do item!\r\n    </span>\r\n  </div>\r\n\r\n  <div class=\"card shadow-sm border rounded-lg py-8 px-4 bg-white\">\r\n    <div class=\"flex-wrap\">\r\n      <div class=\"inline-block w-1/3 flex-1 m-3\">\r\n        <Input\r\n          v-model=\"data.name\"\r\n          type=\"default\"\r\n          label=\"Nome\"\r\n          placeholder=\"Nome\"\r\n        />\r\n      </div>\r\n      <div class=\"inline-block w-1/3 flex-1 m-3\">\r\n        <Input\r\n          v-model=\"data.cnpj\"\r\n          type=\"cnpj\"\r\n          label=\"CNPJ\"\r\n          placeholder=\"CNPJ\"\r\n        />\r\n      </div>\r\n      <div class=\"inline-block w-1/3 flex-1 m-3\">\r\n        <Input\r\n          v-model=\"data.code\"\r\n          type=\"default\"\r\n          label=\"Código\"\r\n          placeholder=\"Código\"\r\n        />\r\n      </div>\r\n      <div class=\"inline-block w-1/3 flex-1 m-3\">\r\n        <Input\r\n          v-model=\"data.phone_number\"\r\n          type=\"whats\"\r\n          label=\"Telefone\"\r\n          placeholder=\"Telefone\"\r\n        />\r\n      </div>\r\n      <div class=\"w-1/3 flex-1 m-3\">\r\n        <Input\r\n          v-model=\"data.email\"\r\n          type=\"default\"\r\n          label=\"Email\"\r\n          placeholder=\"Email\"\r\n        />\r\n      </div>\r\n      <div class=\"inline-block w-1/3 flex-1 m-3\">\r\n        <div class=\"block relative\">\r\n          <img\r\n            class=\"flex-auto rounded-lg shadow-lg\"\r\n            :src=\"data.logo ? readURL(data.logo) : 'https://via.placeholder.com/700x300'\"\r\n          />\r\n          <button\r\n            class=\"bg-ternary rounded-md shadow-md transform hover:scale-105 px-5 py-2 absolute flex justify-center items-center font-bold\"\r\n            style=\"bottom: 20px; left: 20px\"\r\n          >\r\n            <label class=\"text-white\" for=\"logo\">Adicionar</label> <i class=\"ml-3 text-white gg-camera\"></i>\r\n            <input\r\n            @change=\"changeImage\"\r\n            class=\"absolute hidden\" id=\"logo\" type=\"file\" />\r\n\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"flex justify-end mt-5\">\r\n    <Button @click=\"create\" color=\"primary\" :text=\"`Cadastrar`\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Input from \"../../../components/Elements/Input.vue\";\r\nimport Button from \"../../../components/Elements/Button.vue\";\r\nimport { inject, onMounted, ref } from \"vue\";\r\nimport { POST } from \"../../../services/api\";\r\nimport { isEmpty, isEmail } from \"../../../services/validate\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { cnpj } from 'cpf-cnpj-validator';\r\n\r\nexport default {\r\n  name: \"createUser\",\r\n  components: {\r\n    Input,\r\n    Button,\r\n  },\r\n\r\n  setup() {\r\n    //SERVICES\r\n    const loader = inject(\"loading\");\r\n    const alert = inject(\"alert\");\r\n    const router = useRouter();\r\n    const alertProps = inject(\"alert\");\r\n    const route = useRoute();\r\n\r\n    //DATA\r\n    const data = ref({\r\n      name: \"\",\r\n      cnpj: \"\",\r\n      code: \"\",\r\n      'phone_number': \"\",\r\n      email: \"\",\r\n      logo: \"\",\r\n    });\r\n    //*\r\n    //OTHERS\r\n    const defaultLabel = ref(\r\n      route.name\r\n        .split(\"/\")[0]\r\n        .substring(0, route.name.split(\"/\")[0].length - 1)\r\n        .toLowerCase()\r\n    );\r\n\r\n    //LOGIC\r\n    const create = async () => {\r\n      const objRequest = new FormData();\r\n      const item = data.value;\r\n\r\n      for (const key in item) {\r\n        if (item[key])\r\n          objRequest.append(key, item[key]);\r\n      }\r\n      const cnpjValidate = cnpj.isValid(data.value.cnpj);\r\n      const emailValidate = isEmail(data.value.email);\r\n      const validate = isEmpty(data.value);\r\n      if (validate || emailValidate || !cnpjValidate) {\r\n        if(validate){\r\n          alert.open(\"Atenção!\", validate, \"warning\");\r\n        }else if(emailValidate){\r\n          alert.open(\"Atenção!\", emailValidate, \"warning\");\r\n        } else {\r\n          alert.open(\"Atenção!\", \"*CNPJ inválido.\", \"warning\");\r\n        }\r\n      } else {\r\n        loader.open();\r\n        try {\r\n          const response = await POST(`institutions`, objRequest);\r\n          alert.open(\r\n            \"Sucesso!\",\r\n            `${\r\n              \"Instituição\"\r\n            } <b>${response.name}</b> criada com sucesso!`,\r\n            \"success\"\r\n          );\r\n          loader.close();\r\n          router.push(`/adm/instituicoes`);\r\n        } catch (e) {\r\n          loader.close();\r\n          if(e.includes(\"Token\")) {\r\n            alert.open(\"Atenção!\", e, \"danger\");\r\n            localStorage.removeItem('token');\r\n            localStorage.removeItem('info');\r\n            router.push('/login');\r\n          } else {\r\n            alert.open(\"Atenção!\", e, \"danger\");\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    const changeImage = (event) => {\r\n      const obj = {\r\n        name: data.value.name,\r\n        cnpj: data.value.cnpj,\r\n        code: data.value.code,\r\n        'phone_number': data.value.phone_number,\r\n        email: data.value.email,\r\n        logo: event.target.files[0],\r\n      }\r\n      data.value = obj;\r\n    }\r\n\r\n    const readURL = file => {\r\n      if(typeof(file) == 'string'){\r\n        return file\r\n      }\r\n      return window.URL.createObjectURL(file)\r\n    };\r\n\r\n    return {\r\n      alertProps,\r\n      data,\r\n      create,\r\n      route,\r\n      defaultLabel,\r\n      changeImage,\r\n      readURL\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./create.vue?vue&type=template&id=375795c4\"\nimport script from \"./create.vue?vue&type=script&lang=js\"\nexport * from \"./create.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}