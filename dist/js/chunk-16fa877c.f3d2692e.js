(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16fa877c"],{"1afe":function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));a("159b"),a("4fad"),a("ac1f"),a("1276"),a("a9e3");var n=function(e){var t=[];Object.entries(e).forEach((function(e){""===e[1]&&t.push(e[0])}));var a="";return t.forEach((function(e){"name"===e&&(e="Nome"),"birthday"===e&&(e="Data de aniversário"),"document"===e&&(e="CPF ou CNPJ"),"cpf"===e&&(e="CPF"),"cnpj"===e&&(e="CNPJ"),"phone_number"===e&&(e="Whatsapp"),"email"===e&&(e="E-mail"),"password"===e&&(e="Senha"),"welcome_email"===e&&(e="Boas-vindas"),"blood_donator"===e&&(e="Doador de sangue"),"code"===e&&(e="Código"),"logo"===e&&(e="Logotipo"),("value"===e||"fixed_value"===e)&&(e="Valor"),"description"===e&&(e="Descrição"),"recurrence_day"===e&&(e="Dia da doação"),"recurrence_interval"===e&&(e="Recorrência"),"institutions_id"===e&&(e="Instituição"),"users_id"===e&&(e="Comprador"),"purchase_voucher"===e&&(e="Comprovante de compra"),("created_at"===e||"updated_at"===e)&&(e="Data"),a+="* O Campo <b>".concat(e,"</b> está vazio <br/>")})),a},r=function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,a=t.test(String(e).toLowerCase()),n="";return a||(n="* Email inválido."),n},o=function(e){var t=(new Date).getFullYear(),a=!1;e.split("/")[2]&&4===e.split("/")[2].length&&Number(e.split("/")[2])>t-110&&Number(e.split("/")[2])<=t&&(a=!0);var n=Number(e.split("/")[1])<=12,r=Number(e.split("/")[0])<=31,o=10===e.length,c=!!(a&&n&&r&&o);return c}},"1f5a":function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return O}));
/*!
 * cpf-cnpj-validator v1.0.3
 * (c) 2020-present Carvalho, Vinicius Luiz <carvalho.viniciusluiz@gmail.com>
 * Released under the MIT License.
 */
const n=["00000000000","11111111111","22222222222","33333333333","44444444444","55555555555","66666666666","77777777777","88888888888","99999999999","12345678909"],r=/[.-]/g,o=/[^\d]/g,c=e=>{const t=e.split("").map(e=>parseInt(e,10)),a=t.length+1,n=t.map((e,t)=>e*(a-t)),r=n.reduce((e,t)=>e+t)%11;return r<2?0:11-r},l=(e,t)=>{const a=t?r:o;return(e||"").replace(a,"")},i=e=>l(e).replace(/^(\d{3})(\d{3})(\d{3})(\d{2})$/,"$1.$2.$3-$4"),u=(e,t)=>{const a=l(e,t);if(!a)return!1;if(11!==a.length)return!1;if(n.includes(a))return!1;let r=a.substr(0,9);return r+=c(r),r+=c(r),r.substr(-2)===a.substr(-2)},s=e=>{let t="";for(let a=0;a<9;a+=1)t+=Math.floor(9*Math.random());return t+=c(t),t+=c(t),e?i(t):t};var d={verifierDigit:c,strip:l,format:i,isValid:u,generate:s};const p=["00000000000000","11111111111111","22222222222222","33333333333333","44444444444444","55555555555555","66666666666666","77777777777777","88888888888888","99999999999999"],b=/[-\\/.]/g,m=/[^\d]/g,f=e=>{let t=2;const a=e.split("").reduce((e,t)=>[parseInt(t,10)].concat(e),[]),n=a.reduce((e,a)=>(e+=a*t,t=9===t?2:t+1,e),0),r=n%11;return r<2?0:11-r},g=(e,t)=>{const a=t?b:m;return(e||"").replace(a,"")},v=e=>g(e).replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5"),h=(e,t)=>{const a=g(e,t);if(!a)return!1;if(14!==a.length)return!1;if(p.includes(a))return!1;let n=a.substr(0,12);return n+=f(n),n+=f(n),n.substr(-2)===a.substr(-2)},j=e=>{let t="";for(let a=0;a<12;a+=1)t+=Math.floor(9*Math.random());return t+=f(t),t+=f(t),e?v(t):t};var O={verifierDigit:f,strip:g,format:v,isValid:h,generate:j}},"26c3":function(e,t,a){"use strict";a.r(t);a("b0c0");var n=a("7a23"),r=Object(n["g"])("div",{class:"my-6"},[Object(n["g"])("h3",{class:"font-bold text-primary"},"Editar Instituição"),Object(n["g"])("span",{class:"text-sm text-gray-500"},[Object(n["f"])("Preencha as informações abaixo e clique no botão "),Object(n["g"])("b",null,"salvar instituição"),Object(n["f"])(" para confirmar a edição do item! ")])],-1),o={class:"card shadow-sm border rounded-lg p-8 bg-white"},c={class:"flex-wrap"},l={class:"inline-block w-1/3 flex-1 m-3"},i={class:"inline-block w-1/3 flex-1 m-3"},u={class:"inline-block w-1/3 flex-1 m-3"},s={class:"inline-block w-1/3 flex-1 m-3"},d={class:"w-1/3 flex-1 m-3"},p={class:"inline-block w-1/3 flex-1 m-3"},b={class:"block relative"},m={class:"bg-ternary rounded-md shadow-md transform hover:scale-105 px-5 py-2 absolute flex justify-center items-center font-bold",style:{bottom:"20px",left:"20px"}},f=Object(n["g"])("label",{class:"text-white",for:"logo"},"Adicionar",-1),g=Object(n["f"])(),v=Object(n["g"])("i",{class:"ml-3 text-white gg-camera"},null,-1),h={class:"flex justify-end mt-5"};function j(e,t,a,j,O,w){var x=Object(n["y"])("Input"),k=Object(n["y"])("Button");return Object(n["r"])(),Object(n["d"])(n["a"],null,[r,Object(n["g"])("div",o,[Object(n["g"])("div",c,[Object(n["g"])("div",l,[Object(n["g"])(x,{modelValue:j.data.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return j.data.name=e}),type:"default",label:"Nome",placeholder:"Nome"},null,8,["modelValue"])]),Object(n["g"])("div",i,[Object(n["g"])(x,{modelValue:j.data.cnpj,"onUpdate:modelValue":t[2]||(t[2]=function(e){return j.data.cnpj=e}),type:"cnpj",label:"CNPJ",placeholder:"CNPJ"},null,8,["modelValue"])]),Object(n["g"])("div",u,[Object(n["g"])(x,{modelValue:j.data.code,"onUpdate:modelValue":t[3]||(t[3]=function(e){return j.data.code=e}),type:"default",label:"Código",placeholder:"Código"},null,8,["modelValue"])]),Object(n["g"])("div",s,[Object(n["g"])(x,{modelValue:j.data.phone_number,"onUpdate:modelValue":t[4]||(t[4]=function(e){return j.data.phone_number=e}),type:"whats",label:"Telefone",placeholder:"Telefone"},null,8,["modelValue"])]),Object(n["g"])("div",d,[Object(n["g"])(x,{modelValue:j.data.email,"onUpdate:modelValue":t[5]||(t[5]=function(e){return j.data.email=e}),type:"default",label:"Email",placeholder:"Email"},null,8,["modelValue"])]),Object(n["g"])("div",p,[Object(n["g"])("div",b,[Object(n["g"])("img",{class:"flex-auto rounded-lg shadow-lg",src:j.data.logo?j.readURL(j.data.logo):"https://via.placeholder.com/700x300"},null,8,["src"]),Object(n["g"])("button",m,[f,g,v,Object(n["g"])("input",{onChange:t[6]||(t[6]=function(){return j.changeImage&&j.changeImage.apply(j,arguments)}),class:"absolute hidden",id:"logo",type:"file"},null,32)])])])])]),Object(n["g"])("div",h,[Object(n["g"])(k,{onClick:j.update,color:"primary",text:"Salvar instituição"},null,8,["onClick"])])],64)}var O=a("1da1"),w=(a("96cf"),a("ac1f"),a("1276"),a("caad"),a("2532"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("7713")),x=a("6e65"),k=a("0e9d"),y=a("1afe"),C=a("6c02"),V=a("1f5a"),_={name:"createUser",components:{Input:w["a"],Button:x["a"]},setup:function(){var e=Object(n["k"])("loading"),t=Object(n["k"])("alert"),a=Object(n["k"])("alert"),r=Object(n["k"])("modal"),o=Object(C["d"])(),c=Object(C["c"])(),l=Object(n["w"])({}),i=Object(n["w"])({}),u=Object(n["w"])(c.name.split("/")[0].substring(0,c.name.split("/")[0].length-1).toLowerCase()),s=function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(k["b"])("institutions/".concat(c.params.id));case 2:return i.value=e.sent,e.abrupt("return",{name:i.value.name,cnpj:i.value.cnpj,code:i.value.code,phone_number:i.value.phone_number,email:i.value.email,logo:i.value.logo});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var a=Object(O["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=function(){var a=Object(O["a"])(regeneratorRuntime.mark((function a(){var n,r,i,u,s,d,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=V["a"].isValid(l.value.cnpj),r=Object(y["b"])(l.value.email),i=Object(y["c"])(l.value),!i&&!r&&n){a.next=7;break}i?t.open("Atenção!",i,"warning"):r?t.open("Atenção!",r,"warning"):t.open("Atenção!","*CNPJ inválido.","warning"),a.next=24;break;case 7:for(d in e.open(),a.prev=8,u=new FormData,s=l.value,s)s[d]&&u.append(d,s[d]);return a.next=14,Object(k["c"])("institutions/".concat(c.params.id),u);case 14:p=a.sent,t.open("Sucesso!","Instituição".concat(" <b>",p.name,"</b> editada com sucesso!"),"success"),e.close(),o.push("/adm/instituicoes"),a.next=24;break;case 20:a.prev=20,a.t0=a["catch"](8),t.open("Atenção!",a.t0,"danger"),e.close();case 24:case"end":return a.stop()}}),a,null,[[8,20]])})));return function(){return a.apply(this,arguments)}}(),i=function(){r.close()},r.open({title:"Atenção",message:"Deseja realmente editar essa instituição?",confirmMessage:"Sim",callbackOK:function(){return n()},callbackCancel:function(){return i()}});case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();Object(n["o"])(Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s();case 3:l.value=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),e.t0.includes("Token")?(t.open("Atenção!",e.t0,"danger"),localStorage.removeItem("token"),localStorage.removeItem("info"),o.push("/login")):t.open("Atenção!",e.t0,"danger");case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))));var p=function(e){var t={name:l.value.name,cnpj:l.value.cnpj,code:l.value.code,phone_number:l.value.phone_number,email:l.value.email,logo:e.target.files[0]};l.value=t},b=function(e){return"string"==typeof e?e:window.URL.createObjectURL(e)};return{alertProps:a,data:l,update:d,route:c,defaultLabel:u,changeImage:p,readURL:b}}};_.render=j;t["default"]=_}}]);
//# sourceMappingURL=chunk-16fa877c.f3d2692e.js.map