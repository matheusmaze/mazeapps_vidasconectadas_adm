(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18fac376"],{"1afe":function(e,a,t){"use strict";t.d(a,"c",(function(){return n})),t.d(a,"b",(function(){return l})),t.d(a,"a",(function(){return c}));t("159b"),t("4fad"),t("ac1f"),t("1276"),t("a9e3");var n=function(e){var a=[];Object.entries(e).forEach((function(e){""===e[1]&&a.push(e[0])}));var t="";return a.forEach((function(e){"name"===e&&(e="Nome"),"birthday"===e&&(e="Data de aniversário"),"document"===e&&(e="CPF ou CNPJ"),"cpf"===e&&(e="CPF"),"cnpj"===e&&(e="CNPJ"),"phone_number"===e&&(e="Whatsapp"),"email"===e&&(e="E-mail"),"password"===e&&(e="Senha"),"welcome_email"===e&&(e="Boas-vindas"),"blood_donator"===e&&(e="Doador de sangue"),"code"===e&&(e="Código"),"logo"===e&&(e="Logotipo"),("value"===e||"fixed_value"===e)&&(e="Valor"),"description"===e&&(e="Descrição"),"recurrence_day"===e&&(e="Dia da doação"),"recurrence_interval"===e&&(e="Recorrência"),"institutions_id"===e&&(e="Instituição"),"users_id"===e&&(e="Comprador"),"purchase_voucher"===e&&(e="Comprovante de compra"),("created_at"===e||"updated_at"===e)&&(e="Data"),t+="* O Campo <b>".concat(e,"</b> está vazio <br/>")})),t},l=function(e){var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,t=a.test(String(e).toLowerCase()),n="";return t||(n="* Email inválido."),n},c=function(e){var a=(new Date).getFullYear(),t=!1;e.split("/")[2]&&4===e.split("/")[2].length&&Number(e.split("/")[2])>a-110&&Number(e.split("/")[2])<=a&&(t=!0);var n=Number(e.split("/")[1])<=12,l=Number(e.split("/")[0])<=31,c=10===e.length,r=!!(t&&n&&l&&c);return r}},"7d4f":function(e,a,t){"use strict";t.r(a);t("b0c0");var n=t("7a23"),l={class:"my-6"},c={class:"flex"},r={class:"font-bold text-primary mr-4"},o={class:"text-sm text-gray-500"},u=Object(n["f"])("Olá, está sendo exibida as informações da doação do "),i={class:"shadow-sm bg-white border p-8"},s={class:"lg:inline-grid w-full grid-cols-3 gap-x-4"},d={class:"customize inline-block flex-1 m-3"},b={class:"customize inline-block flex-1 m-3"},p={key:0,class:"customizeSchedule col-span-2 inline-block flex-1 m-3"},v={key:1,class:"customize inline-block flex-1 m-3"},m={class:"customize inline-block flex-1 m-3"},f={class:"flex justify-end mt-5 mb-10"},O=Object(n["g"])("hr",null,null,-1),j=Object(n["g"])("h3",{class:"font-bold text-primary mt-5"},"Transações",-1),g={class:"card mt-10 mb-20"};function h(e,a,t,h,_,x){var y=Object(n["y"])("Input"),k=Object(n["y"])("Button"),D=Object(n["y"])("DataTable");return Object(n["r"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("div",l,[Object(n["g"])("div",c,[Object(n["g"])("h3",r,"Detalhes da doação / "+Object(n["B"])(h.userData.name),1),Object(n["g"])("i",{onClick:a[1]||(a[1]=function(){return h.push&&h.push.apply(h,arguments)}),class:"gg-link cursor-pointer text-primary"})]),Object(n["g"])("span",o,[u,Object(n["g"])("b",null,Object(n["B"])(h.userData.name),1),Object(n["f"])(", "+Object(n["B"])(h.document)+" "+Object(n["B"])(h.userData.document)+", email "+Object(n["B"])(h.userData.email)+", com o telefone de contato "+Object(n["B"])(h.userData.phone_number)+". ",1)])]),Object(n["g"])("div",i,[Object(n["g"])("span",s,[Object(n["g"])("div",d,[Object(n["g"])(y,{modelValue:h.data.notification_type,"onUpdate:modelValue":a[2]||(a[2]=function(e){return h.data.notification_type=e}),type:"radio",label:"Tipo de notificação",name:"notification_type",data:[{label:"WhatsApp",value:"WHATSAPP"},{label:"Email",value:"EMAIL"}]},null,8,["modelValue"])]),Object(n["g"])("div",b,[Object(n["g"])(y,{modelValue:h.data.recurrence_interval,"onUpdate:modelValue":a[3]||(a[3]=function(e){return h.data.recurrence_interval=e}),type:"default",label:"Recorrência",placeholder:"Selecione um item",readonly:""},null,8,["modelValue"])]),"Única"===h.data.recurrence_interval?(Object(n["r"])(),Object(n["d"])("div",p,[Object(n["g"])(y,{modelValue:h.schedulePayment,"onUpdate:modelValue":a[4]||(a[4]=function(e){return h.schedulePayment=e}),type:"radio",label:"Deseja agendar o pagamento?",name:"schedule_payment",data:[{label:"Sim",value:"1"},{label:"Não",value:"0"}]},null,8,["modelValue"])])):Object(n["e"])("",!0),"Mensal"===h.data.recurrence_interval||"1"===h.schedulePayment?(Object(n["r"])(),Object(n["d"])("div",v,[Object(n["g"])(y,{modelValue:h.data.recurrence_day,"onUpdate:modelValue":a[5]||(a[5]=function(e){return h.data.recurrence_day=e}),type:"radio",label:"Dia da doação",data:[{label:"Dia 5",value:5},{label:"Dia 10",value:10},{label:"Dia 15",value:15},{label:"Dia 20",value:20}]},null,8,["modelValue"])])):Object(n["e"])("",!0),Object(n["g"])("div",m,[Object(n["g"])(y,{modelValue:h.data.fixed_value,"onUpdate:modelValue":a[6]||(a[6]=function(e){return h.data.fixed_value=e}),type:"money",label:"Valor",placeholder:"Digite o valor"},null,8,["modelValue"])])])]),Object(n["g"])("div",f,[Object(n["g"])(k,{onClick:h.update,color:"primary",text:"Salvar"},null,8,["onClick"])]),O,j,Object(n["g"])("div",g,[Object(n["g"])(D,{headers:h.headers,data:h.transactions,options:e.options,exports:!0,color:"primary"},null,8,["headers","data","options"])])],64)}var _=t("1da1"),x=(t("96cf"),t("caad"),t("2532"),t("ac1f"),t("1276"),t("a15b"),t("5319"),t("d81d"),t("a434"),t("7713")),y=t("6e65"),k=t("86e5"),D=t("0e9d"),w=t("1afe"),P=t("6c02"),E=t("1048"),A={name:"donationEdit",components:{Input:x["a"],Button:y["a"],DataTable:k["a"]},setup:function(){var e=Object(n["k"])("loading"),a=Object(n["k"])("alert"),t=Object(n["k"])("modal"),l=Object(n["k"])("alert"),c=Object(P["c"])(),r=Object(P["d"])(),o=Object(n["w"])({}),u=Object(n["w"])([]),i=Object(n["w"])({}),s=Object(n["w"])([]),d=Object(n["w"])(""),b=Object(n["w"])(""),p=[{key:"ID",value:"id"},{key:"Data criação",value:"created_at",date:!0},{key:"Valor",value:"value",money:!0},{key:"Status",value:"status",badge:{PAGO:"green",PENDENTE:"red",EXPIRADO:"yellow"}},{key:"Pix",value:"pix",copy:!0}],v=function(){var n=Object(_["a"])(regeneratorRuntime.mark((function n(){var l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:l=function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("Única"===o.value.recurrence_interval&&"1"!==b.value&&(o.value["recurrence_day"]="0"),n=Object(w["c"])(o.value),!n){t.next=6;break}a.open("Atenção!",n,"warning"),t.next=29;break;case 6:if(!o.value.fixed_value.includes("R$")||""!==o.value.fixed_value.split(" ")[1]&&void 0!==o.value.fixed_value.split(" ")[1]&&0!==parseInt(o.value.fixed_value.split(" ")[1])){t.next=10;break}a.open("Atenção!","*Valor não reconhecido","warning"),t.next=29;break;case 10:return e.open(),t.prev=11,o.value["fixed_value"].split(" ")[1]&&(o.value["fixed_value"]=o.value.fixed_value.split(" ")[1]),o.value["fixed_value"].length>6&&(o.value["fixed_value"]=o.value.fixed_value.split(".").join("")),o.value["fixed_value"]=o.value.fixed_value.replace(",","."),t.next=17,Object(D["d"])("donations/users/invited/".concat(c.params.id,"/unique"),o.value);case 17:return t.next=19,Object(D["b"])("transactions/donations/".concat(c.params.id));case 19:i.value=t.sent,i.value.map((function(e){switch(e.status){case"PENDING":e.status="PENDENTE";break;case"PAID":e.status="PAGO";break;case"EXPIRED":e.status="EXPIRADO"}})),a.open("Sucesso!","Doação editada com sucesso!","success"),e.close(),t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](11),e.close(),t.t0.includes("Token")?(a.open("Atenção!",t.t0,"danger"),localStorage.removeItem("token"),localStorage.removeItem("info"),r.push("/login")):a.open("Atenção!",t.t0,"danger");case 29:case"end":return t.stop()}}),t,null,[[11,25]])})));return function(){return t.apply(this,arguments)}}(),u=function(){t.close()},t.open({title:"Atenção",message:"Deseja realmente editar essa doação?",confirmMessage:"Confirmar",callbackOK:function(){return l()},callbackCancel:function(){return u()}});case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),m=function(){window.open(c.path.split("/").splice(0,5).join("/"),"_blank")};return Object(n["o"])(Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.open(),t.next=4,Object(D["b"])("users/".concat(c.path.split("/")[4]));case 4:return u.value=t.sent,u.value.document.length>11?(u.value.document=Object(E["a"])(u.value.document),d.value="CNPJ"):(u.value.document=Object(E["b"])(u.value.document),d.value="CPF"),u.value.phone_number.length>10?u.value["phone_number"]=Object(E["c"])(u.value.phone_number):u.value["phone_number"]=Object(E["g"])(u.value.phone_number),t.next=9,Object(D["b"])("donations/".concat(c.params.id));case 9:return o.value=t.sent,o.value["recurrence_interval"]="UNICA"===o.value.recurrence_interval?"Única":"Mensal",o.value["fixed_value"]=o.value["fixed_value"].replace(".",","),b.value="MENSAL"===o.value.recurrence_interval||"UNICA"===o.value.recurrence_interval&&o.value.recurrence_day>0&&o.value.recurrence_day<25?"1":"0",t.next=15,Object(D["b"])("transactions/donations/".concat(c.params.id));case 15:i.value=t.sent,i.value.map((function(e){switch(e.status){case"PENDING":e.status="PENDENTE";break;case"PAID":e.status="PAGO";break;case"EXPIRED":e.status="EXPIRADO"}})),e.close(),t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](0),e.close(),t.t0.includes("Token")?(a.open("Atenção!",t.t0,"danger"),localStorage.removeItem("token"),localStorage.removeItem("info"),r.push("/login")):a.open("Atenção!",t.t0,"danger");case 24:case"end":return t.stop()}}),t,null,[[0,20]])})))),{alertProps:l,data:o,userData:u,update:v,route:c,headers:p,transactions:i,push:m,notifications:s,document:d,schedulePayment:b}}};t("9fca");A.render=h;a["default"]=A},"847e":function(e,a,t){},"9fca":function(e,a,t){"use strict";t("847e")}}]);
//# sourceMappingURL=chunk-18fac376.9a77c01b.js.map