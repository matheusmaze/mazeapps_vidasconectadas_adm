{"version":3,"sources":["webpack:///./src/views/Adm/Padrinhos/index.vue","webpack:///./src/views/Adm/Padrinhos/index.vue?bed4","webpack:///./node_modules/core-js/modules/es.array.filter.js"],"names":["class","route","name","split","toLowerCase","to","path","text","substring","length","headers","data","options","exports","color","components","Button","DataTable","setup","key","value","document","router","modal","alert","loader","open","map","user","nivel","close","includes","localStorage","removeItem","push","deleteItem","deleteFunction","id","filter","item","cancelFunction","title","message","confirmMessage","callbackOK","callbackCancel","r","window","icon","action","param","render","$","$filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","this","arguments","undefined"],"mappings":"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","file":"js/chunk-2bbd9d31.12718818.js","sourcesContent":["<template>\r\n  <div class=\"w-full mt-6 mb-8\">\r\n    <h3 class=\"font-bold text-primary\">Lista de {{ route.name.split('/')[1] }}</h3>\r\n    <span class=\"text-sm text-gray-500\"\r\n      >Aqui você pode observar todos os itens relacionados aos {{route.name.split('/')[1].toLowerCase()}} como\r\n      suas respectivas ações.\r\n    </span>\r\n  </div>\r\n  <div class=\"flex mb-6 justify-end w-full\">\r\n    <router-link :to=\"`${route.path}/criar`\">\r\n      <Button\r\n        :text=\"`Criar ${(route.name.split('/')[1].substring(0, route.name.split('/')[1].length - 2)).toLowerCase()}`\"\r\n      />\r\n    </router-link>\r\n  </div>\r\n  <div class=\"card\">\r\n    <DataTable\r\n      :headers=\"headers\"\r\n      :data=\"data\"\r\n      :options=\"options\"\r\n      :exports=\"true\"\r\n      color=\"primary\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Button from \"../../../components/Elements/Button.vue\";\r\nimport DataTable from \"../../../components/Elements/Datatable.vue\";\r\nimport { inject, onMounted, ref } from \"vue\";\r\nimport { GET, DELETE } from \"../../../services/api\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"users\",\r\n  components: {\r\n    Button,\r\n    DataTable,\r\n  },\r\n  setup() {\r\n    const headers = [\r\n      { key: \"ID\", value: \"id\"},\r\n      { key: \"Nível\", value: \"nivel\"},\r\n      { key: \"Nome\", value: \"name\"},\r\n      { key: \"Documento\", value: \"document\", document: true},\r\n      { key: \"Contato\", value: \"email\"},\r\n      { key: \"Opções\", value: \"\"},\r\n    ];\r\n\r\n\r\n    const route = useRoute();\r\n    const router = useRouter();\r\n    const modal = inject(\"modal\");\r\n    const alert = inject(\"alert\");\r\n    const loader = inject(\"loading\");\r\n\r\n    const data = ref([]);\r\n\r\n    onMounted(async () => {\r\n      try {\r\n        loader.open();\r\n        data.value = await GET(\"users\");\r\n        data.value.map( user => user.nivel = user.nivel[0] + user.nivel.substring(1).toLowerCase());\r\n        loader.close();\r\n      } catch (e) {\r\n        loader.close();\r\n        if(e.includes(\"Token\")) {\r\n          alert.open(\"Atenção!\", e, \"danger\");\r\n          localStorage.removeItem('token');\r\n          localStorage.removeItem('info');\r\n          router.push('/login');\r\n        } else {\r\n          alert.open(\"Atenção!\", e, \"danger\");\r\n        }\r\n      }\r\n    });\r\n\r\n    const deleteItem = (user) => {\r\n      const deleteFunction = async function () {\r\n        loader.open();\r\n        try {\r\n          await DELETE(`users/${user.id}`);\r\n          data.value = data.value.filter((item) => item.id != user.id);\r\n          loader.close();\r\n          alert.open(\"Sucesso!\", `Doador <b>${user.name}</b> deletado com sucesso!`, \"success\");\r\n        } catch (e) {\r\n          loader.close();\r\n          alert.open(\"Erro\", e, \"danger\");\r\n        }\r\n      };\r\n\r\n      const cancelFunction = () => {\r\n        modal.close()\r\n      }\r\n     \r\n      modal.open({\r\n        title: \"Atenção\",\r\n        message: \"Deseja realmente excluir esse doador?\",\r\n        confirmMessage: \"Confirmar\",\r\n        callbackOK: () => deleteFunction(),\r\n        callbackCancel: () => cancelFunction(),\r\n      })\r\n\r\n\r\n      loader.close();\r\n    };\r\n\r\n    const push = (r) => {\r\n      window.open(`/${route.name.toLowerCase()}/detalhes/${r.id}`);\r\n    };\r\n\r\n    const options = [\r\n      { icon: \"pen\", action: (param) => push(param), title: 'Detalhes do doador' },\r\n      { icon: \"trash\", action: (param) => deleteItem(param), title: 'Excluir doador' },\r\n    ];\r\n\r\n    return { headers, options, route, data };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./index.vue?vue&type=template&id=7832560b\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}