(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7702"],{"778d":function(e,t,a){"use strict";a.r(t);a("ac1f"),a("1276"),a("b0c0");var n=a("7a23"),r={class:"w-full mt-6 mb-8"},o={class:"font-bold text-primary"},c={class:"text-sm text-gray-500"},u={class:"flex mb-6 justify-end w-full"},l={class:"flex flex-row my-12 items-baseline justify-start"},s={class:"w-56 mr-3"},i={class:"w-56"};function d(e,t,a,d,v,b){var p=Object(n["y"])("Button"),f=Object(n["y"])("router-link"),m=Object(n["y"])("Input"),j=Object(n["y"])("DataTable");return Object(n["r"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("div",r,[Object(n["g"])("h3",o,"Lista de "+Object(n["B"])(d.route.name.split("/")[1]),1),Object(n["g"])("span",c,"Aqui você pode observar todos os itens relacionados às "+Object(n["B"])(d.route.name.split("/")[1].toLowerCase())+" como suas respectivas ações. ",1)]),Object(n["g"])("div",u,[Object(n["g"])(f,{to:"/".concat(d.route.name.toLowerCase(),"/criar")},{default:Object(n["G"])((function(){return[Object(n["g"])(p,{text:"Criar ".concat(d.route.name.split("/")[1].substring(0,d.route.name.split("/")[1].length-1).toLowerCase())},null,8,["text"])]})),_:1},8,["to"])]),Object(n["g"])("div",l,[Object(n["g"])("div",s,[Object(n["g"])(m,{modelValue:d.filtro,"onUpdate:modelValue":t[1]||(t[1]=function(e){return d.filtro=e}),type:"select",label:"Status da compra",placeholder:"Selecione o status",data:[{label:"Todas",value:"todas"},{label:"Aprovada",value:"Aprovada"},{label:"Reprovada",value:"Reprovada"},{label:"Aguardando",value:"Aguardando"}]},null,8,["modelValue"])]),Object(n["g"])("div",i,[Object(n["g"])(p,{onClick:d.filterAll,color:"primary",text:"Filtrar",class:"w-24 h-14"},null,8,["onClick"])])]),Object(n["g"])(j,{headers:d.headers,data:d.buys,options:d.options,exports:!0,color:"primary"},null,8,["headers","data","options"])],64)}var v=a("1da1"),b=(a("96cf"),a("4de4"),a("159b"),a("caad"),a("2532"),a("99af"),a("6e65")),p=a("86e5"),f=a("7713"),m=a("0e9d"),j=a("6c02"),O={name:"users",components:{Input:f["a"],Button:b["a"],DataTable:p["a"]},setup:function(){var e=[{key:"ID",value:"id"},{key:"Comprador",value:"userName"},{key:"Instituições",value:"institutionName"},{key:"Valor",value:"value",money:!0},{key:"Status",value:"status",badge:{Aprovada:"green",Reprovada:"red",Aguardando:"yellow"}},{key:"Opções",value:""}],t=Object(j["c"])(),a=Object(j["d"])(),r=Object(n["k"])("modal"),o=Object(n["k"])("alert"),c=Object(n["k"])("loading"),u=Object(n["w"])([]),l=Object(n["w"])([]),s=Object(n["w"])([]),i=Object(n["w"])([]),d=Object(n["w"])(""),b=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c.open(),"todas"===d.value?l.value=u.value:l.value=u.value.filter((function(e){return d.value===e.status})),l.value.forEach((function(e,t){i.value.forEach((function(a){e.institutions_id===a.id&&(l.value[t].institutionName=a.name)}))})),u.value.forEach((function(e,t){s.value.forEach((function(a){e.users_id===a.id&&(u.value[t].userName=a.name)}))})),c.close();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n["o"])(Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,c.open(),e.next=4,Object(m["b"])("buys");case 4:return u.value=e.sent,l.value=u.value,e.next=8,Object(m["b"])("institutions");case 8:return i.value=e.sent,l.value.forEach((function(e,t){i.value.forEach((function(a){e.institutions_id===a.id&&(l.value[t].institutionName=a.name)}))})),e.next=12,Object(m["b"])("users");case 12:s.value=e.sent,l.value.forEach((function(e,t){s.value.forEach((function(a){e.users_id===a.id&&(l.value[t].userName=a.name)}))})),c.close(),e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](0),c.close(),e.t0.includes("Token")?(o.open("Atenção!",e.t0,"danger"),localStorage.removeItem("token"),localStorage.removeItem("info"),a.push("/login")):o.open("Atenção!",e.t0,"danger");case 21:case"end":return e.stop()}}),e,null,[[0,17]])}))));var p=function(e){var t=function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c.open(),t.prev=1,t.next=4,Object(m["a"])("buys/".concat(e.id));case 4:l.value=l.value.filter((function(t){return t.id!=e.id})),u.value=u.value.filter((function(t){return t.id!=e.id})),c.close(),o.open("Sucesso!","Compra deletada com sucesso!","success"),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),c.close(),o.open("Erro",t.t0,"danger");case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),a=function(){r.close()};r.open({title:"Atenção",message:"Deseja realmente excluir essa compra?",confirmMessage:"Confirmar",callbackOK:function(){return t()},callbackCancel:function(){return a()}}),c.close()},f=function(e){a.push("/".concat(t.name.toLowerCase(),"/editar/").concat(e.id))},O=[{icon:"pen",action:function(e){return f(e)},title:"Editar compra"},{icon:"trash",action:function(e){return p(e)},title:"Excluir compra"}];return{headers:e,options:O,route:t,data:u,filtro:d,filterAll:b,buys:l}}};O.render=d;t["default"]=O}}]);
//# sourceMappingURL=chunk-2d0d7702.81270a41.js.map