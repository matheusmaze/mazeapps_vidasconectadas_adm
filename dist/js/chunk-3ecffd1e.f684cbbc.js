(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ecffd1e"],{"02d8":function(e,a,t){},"1afe":function(e,a,t){"use strict";t.d(a,"c",(function(){return n})),t.d(a,"b",(function(){return o})),t.d(a,"a",(function(){return r}));t("159b"),t("4fad"),t("ac1f"),t("1276"),t("a9e3");var n=function(e){var a=[];Object.entries(e).forEach((function(e){""===e[1]&&a.push(e[0])}));var t="";return a.forEach((function(e){"name"===e&&(e="Nome"),"birthday"===e&&(e="Data de aniversário"),"document"===e&&(e="CPF ou CNPJ"),"cpf"===e&&(e="CPF"),"cnpj"===e&&(e="CNPJ"),"phone_number"===e&&(e="Whatsapp"),"email"===e&&(e="E-mail"),"password"===e&&(e="Senha"),"welcome_email"===e&&(e="Boas-vindas"),"blood_donator"===e&&(e="Doador de sangue"),"code"===e&&(e="Código"),"logo"===e&&(e="Logotipo"),("value"===e||"fixed_value"===e)&&(e="Valor"),"description"===e&&(e="Descrição"),"recurrence_day"===e&&(e="Dia da doação"),"recurrence_interval"===e&&(e="Recorrência"),"institutions_id"===e&&(e="Instituição"),"users_id"===e&&(e="Comprador"),"purchase_voucher"===e&&(e="Comprovante de compra"),("created_at"===e||"updated_at"===e)&&(e="Data"),t+="* O Campo <b>".concat(e,"</b> está vazio <br/>")})),t},o=function(e){var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,t=a.test(String(e).toLowerCase()),n="";return t||(n="* Email inválido."),n},r=function(e){var a=(new Date).getFullYear(),t=!1;e.split("/")[2]&&4===e.split("/")[2].length&&Number(e.split("/")[2])>a-110&&Number(e.split("/")[2])<=a&&(t=!0);var n=Number(e.split("/")[1])<=12,o=Number(e.split("/")[0])<=31,r=10===e.length,c=!!(t&&n&&o&&r);return c}},"4ed8":function(e,a,t){"use strict";t("02d8")},"8c3a":function(e,a,t){"use strict";t.r(a);t("fb6a"),t("ac1f"),t("1276"),t("b0c0"),t("99af"),t("a15b"),t("a434");var n=t("7a23"),o={class:"w-full mt-6 mb-8"},r={class:"font-bold text-primary"},c={class:"text-sm text-gray-500"},l={class:"shadow-sm bg-white border p-8"},u={class:"lg:inline-grid w-full grid-cols-3 gap-x-4"},i={class:"inline-block flex-1 m-3"},s={class:"inline-block flex-1 m-3"},d={class:"inline-block flex-1 m-3"},b={class:"lg:inline-grid w-full grid-cols-3 gap-x-4"},p={class:"inline-block flex-1 m-3"},m={class:"inline-block flex-1 m-3"},v={class:"customize inline-block flex-1 m-3"},f={class:"flex justify-end mt-5 mb-10"},g=Object(n["g"])("hr",null,null,-1),h=Object(n["g"])("h3",{class:"font-bold text-primary mt-5"},"Doações",-1),j={class:"card mt-10 mb-20"},O={class:"flex justify-end mt-5"};function y(e,a,t,y,k,D){var w=Object(n["y"])("Input"),x=Object(n["y"])("Button"),_=Object(n["y"])("DataTable"),C=Object(n["y"])("router-link");return Object(n["r"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("div",o,[Object(n["g"])("h3",r,Object(n["B"])(y.route.name.split("/")[1].slice(0,-2))+" / "+Object(n["B"])(y.userData.name),1),Object(n["g"])("span",c,"Aqui você pode observar todos os itens relacionados ao "+Object(n["B"])(y.route.name.split("/")[1].slice(0,-2).toLowerCase())+" "+Object(n["B"])(y.userData.name)+", como suas respectivas ações. ",1)]),Object(n["g"])("div",l,[Object(n["g"])("span",u,[Object(n["g"])("div",i,[Object(n["g"])(w,{modelValue:y.userData.name,"onUpdate:modelValue":a[1]||(a[1]=function(e){return y.userData.name=e}),type:"default",label:"Nome",placeholder:"Nome do Usuário"},null,8,["modelValue"])]),Object(n["g"])("div",s,[Object(n["g"])(w,{modelValue:y.userData.document,"onUpdate:modelValue":a[2]||(a[2]=function(e){return y.userData.document=e}),type:"cpf",label:"CPF ou CNPJ",readonly:""},null,8,["modelValue"])]),Object(n["g"])("div",d,[Object(n["g"])(w,{modelValue:y.userData.birthday,"onUpdate:modelValue":a[3]||(a[3]=function(e){return y.userData.birthday=e}),type:"birthday",placeholder:"XX/XX/XXXX",label:"Data de aniversário"},null,8,["modelValue"])])]),Object(n["g"])("span",b,[Object(n["g"])("div",p,[Object(n["g"])(w,{modelValue:y.userData.phone_number,"onUpdate:modelValue":a[4]||(a[4]=function(e){return y.userData.phone_number=e}),type:"whats",label:"WhatsApp",placeholder:"WhatsApp"},null,8,["modelValue"])]),Object(n["g"])("div",m,[Object(n["g"])(w,{modelValue:y.userData.email,"onUpdate:modelValue":a[5]||(a[5]=function(e){return y.userData.email=e}),type:"default",label:"E-mail",placeholder:"E-mail"},null,8,["modelValue"])]),Object(n["g"])("div",v,[Object(n["g"])(w,{modelValue:y.userData.blood_donator,"onUpdate:modelValue":a[6]||(a[6]=function(e){return y.userData.blood_donator=e}),type:"select",label:"É doador de sangue?",placeholder:"Selecione um item",data:[{label:"Sim",value:"1"},{label:"Não",value:"nao"}]},null,8,["modelValue"])])])]),Object(n["g"])("div",f,[Object(n["g"])(x,{onClick:y.update,color:"primary",text:"Salvar"},null,8,["onClick"])]),g,h,Object(n["g"])("div",j,[Object(n["g"])(_,{headers:y.headers,data:y.data,options:y.options,color:"primary"},null,8,["headers","data","options"]),Object(n["g"])("div",O,[Object(n["g"])(C,{to:"".concat(y.route.path.split("/").splice(0,4).join("/"),"/").concat(y.userData.id,"/criar")},{default:Object(n["G"])((function(){return[Object(n["g"])(x,{color:"primary",text:"Criar Doação"})]})),_:1},8,["to"])])])],64)}var k=t("1da1"),D=(t("96cf"),t("d81d"),t("caad"),t("2532"),t("6e65")),w=t("7713"),x=t("86e5"),_=t("0e9d"),C=t("1afe"),V=t("6c02"),A=t("1048"),S={name:"user",components:{Button:D["a"],DataTable:x["a"],Input:w["a"]},setup:function(){var e=[{key:"ID",value:"id"},{key:"Criação",value:"created_at",date:!0},{key:"Valor",value:"fixed_value",money:!0},{key:"Tipo",value:"recurrence_interval"},{key:"Status",value:"donationStatus",badge:{Ativa:"green",Inativa:"red"}},{key:"Opções",value:""}],a=Object(V["c"])(),t=Object(V["d"])(),o=Object(n["k"])("modal"),r=Object(n["k"])("alert"),c=Object(n["k"])("loading"),l=Object(n["w"])([]),u=Object(n["w"])([]),i=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(){var a,t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(){var a,t,n,o,u,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=Object(C["b"])(l.value.email),t=Object(C["a"])(l.value.birthday),n=Object(C["c"])(l.value),!n&&!a&&t){e.next=7;break}n?r.open("Atenção!",n,"warning"):a?r.open("Atenção!",a,"warning"):r.open("Atenção!","*Data de aniversário inválida.","warning"),e.next=29;break;case 7:return c.open(),o=l.value.birthday.split("/")[2],u=l.value.birthday.split("/")[1],i=l.value.birthday.split("/")[0],e.prev=11,"nao"===l.value["blood_donator"]&&(l.value["blood_donator"]="0"),l.value.birthday="".concat(o,"-").concat(u,"-").concat(i),e.next=16,Object(_["d"])("users/".concat(l.value.id),l.value);case 16:s=e.sent,r.open("Sucesso!","Doador\n              <b>".concat(s.user.name,"</b> editado com sucesso!"),"success"),0==l.value["blood_donator"]&&(l.value["blood_donator"]="nao"),l.value.birthday=Object(A["d"])(l.value.birthday),c.close(),e.next=29;break;case 23:e.prev=23,e.t0=e["catch"](11),r.open("Atenção!",e.t0,"danger"),"0"===l.value["blood_donator"]&&(l.value["blood_donator"]="nao"),l.value.birthday="".concat(i,"/").concat(u,"/").concat(o),c.close();case 29:case"end":return e.stop()}}),e,null,[[11,23]])})));return function(){return e.apply(this,arguments)}}(),t=function(){o.close()},o.open({title:"Atenção",message:"Deseja realmente editar esse doador?",confirmMessage:"Confirmar",callbackOK:function(){return a()},callbackCancel:function(){return t()}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n["o"])(Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,c.open(),e.next=4,Object(_["b"])("users/".concat(a.params.id));case 4:return l.value=e.sent,l.value.document.length>11?l.value.document=Object(A["a"])(l.value.document):l.value.document=Object(A["b"])(l.value.document),l.value.phone_number.length>10?l.value["phone_number"]=Object(A["c"])(l.value.phone_number):l.value["phone_number"]=Object(A["g"])(l.value.phone_number),0==l.value["blood_donator"]&&(l.value["blood_donator"]="nao"),l.value.birthday=Object(A["d"])(l.value.birthday),e.next=11,Object(_["b"])("donations/users/".concat(a.params.id));case 11:u.value=e.sent,u.value.donationStatus="",u.value.map((function(e){"ACTIVE"===e.status?e.donationStatus="Ativa":e.donationStatus="Inativa"})),c.close(),e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](0),c.close(),e.t0.includes("Token")?(r.open("Atenção!",e.t0,"danger"),localStorage.removeItem("token"),localStorage.removeItem("info"),t.push("/login")):r.open("Atenção!",e.t0,"danger");case 21:case"end":return e.stop()}}),e,null,[[0,17]])}))));var s=function(e){var t=function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c.open(),t.prev=1,c.open(),t.next=5,Object(_["a"])("donations/".concat(e.id));case 5:return t.next=7,Object(_["b"])("donations/users/".concat(a.params.id));case 7:u.value=t.sent,u.value.donationStatus="",u.value.map((function(e){"ACTIVE"==e.status?e.donationStatus="Ativa":e.donationStatus="Inativa"})),c.close(),r.open("Sucesso!","Doação desativada com sucesso!","success"),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](1),c.close(),r.open("Erro",t.t0,"danger");case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(){return t.apply(this,arguments)}}(),n=function(){o.close()};o.open({title:"Atenção",message:"Deseja realmente desativar essa doação?",confirmMessage:"Confirmar",callbackOK:function(){return t()},callbackCancel:function(){return n()}}),c.close()},d=function(e){"Ativa"===e.donationStatus?t.push("".concat(a.path.split("/").splice(0,4).join("/"),"/").concat(l.value.id,"/editar/").concat(e.id)):r.open("Erro","Doação não encontrada.","danger")},b=[{icon:"pen",action:function(e){return d(e)},title:"Detalhes da doação"},{icon:"trash",action:function(e){return s(e)},title:"Desativar doação"}];return{headers:e,route:a,options:b,data:u,userData:l,update:i}}};t("4ed8");S.render=y;a["default"]=S}}]);
//# sourceMappingURL=chunk-3ecffd1e.f684cbbc.js.map