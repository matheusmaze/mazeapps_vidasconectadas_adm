{"version":3,"sources":["webpack:///./src/services/validate.ts","webpack:///./src/views/Padrinhos/Doadores/DoadoresId/update.vue?480d","webpack:///./src/views/Padrinhos/Doadores/DoadoresId/update.vue","webpack:///./src/views/Padrinhos/Doadores/DoadoresId/update.vue?a98a"],"names":["isEmpty","payload","emptyFields","Object","entries","forEach","element","push","returnMessage","el","isEmail","email","re","test","String","toLowerCase","isBirthday","date","year","Date","getFullYear","yearValidate","split","length","Number","monthValidate","dayValidate","fullDateValidate","birthdayValidate","class","userData","name","document","phone_number","data","notification_type","type","label","recurrence_interval","placeholder","readonly","schedulePayment","recurrence_day","fixed_value","update","color","text","headers","transactions","options","exports","components","Input","Button","DataTable","setup","loader","modal","alert","router","alertProps","route","key","value","money","badge","copy","handle","validate","open","includes","undefined","parseInt","join","replace","params","id","map","transaction","status","close","localStorage","removeItem","cancelFunction","title","message","confirmMessage","callbackOK","callbackCancel","path","slice","toString","render"],"mappings":"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","file":"js/chunk-552864df.c1b116d7.js","sourcesContent":["const isEmpty = (payload: object)  => {\r\n    const emptyFields: Array<string | void> = []\r\n    Object.entries(payload).forEach(element => {\r\n        if(element[1] === \"\"){\r\n            emptyFields.push(element[0])\r\n        }\r\n    });\r\n    let returnMessage = \"\"\r\n    emptyFields.forEach(el => {\r\n        el === 'name' ? el = 'Nome' : el;\r\n        el === 'birthday' ? el = 'Data de aniversário' : el;\r\n        el === 'document' ? el = 'CPF ou CNPJ' : el;\r\n        el === 'cpf' ? el = 'CPF' : el;\r\n        el === 'cnpj' ? el = 'CNPJ' : el;\r\n        el === 'phone_number' ? el = 'Whatsapp' : el;\r\n        el === 'email' ? el = 'E-mail' : el;\r\n        el === 'password' ? el = 'Senha' : el;\r\n        el === 'welcome_email' ? el = 'Boas-vindas' : el;\r\n        el === 'blood_donator' ? el = 'Doador de sangue' : el;\r\n        el === 'code' ? el = 'Código' : el;\r\n        el === 'logo' ? el = 'Logotipo' : el;\r\n        el === 'value' || el === 'fixed_value' ? el = 'Valor' : el;\r\n        el === 'description' ? el = 'Descrição' : el;\r\n        el === 'recurrence_day' ? el = 'Dia da doação' : el;\r\n        el === 'recurrence_interval' ? el = 'Recorrência' : el;\r\n        el === 'institutions_id' ? el = 'Instituição' : el;\r\n        el === 'users_id' ? el = 'Comprador' : el;\r\n        el === 'purchase_voucher' ? el = 'Comprovante de compra' : el;\r\n        el === 'created_at' || el === 'updated_at' ? el = 'Data' : el;\r\n\r\n        returnMessage += `* O Campo <b>${el}</b> está vazio <br/>`\r\n    })\r\n    return returnMessage\r\n}\r\n\r\n//isEmail retornará uma string em vez de boolean\r\nconst isEmail = (email: string): string => {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    const test = re.test(String(email).toLowerCase());\r\n    let returnMessage = \"\";\r\n    if(!test){\r\n        returnMessage = '* Email inválido.';\r\n    }\r\n    return returnMessage;\r\n}\r\n\r\nconst isBirthday = (date: string): boolean => {\r\n    const year = new Date().getFullYear();\r\n    let yearValidate = false;\r\n    if(date.split('/')[2] && date.split('/')[2].length === 4) {\r\n        if (Number(date.split('/')[2]) > (year - 110) && Number(date.split('/')[2]) <= year) {\r\n            yearValidate = true;\r\n        }\r\n    }\r\n    const monthValidate = Number(date.split('/')[1]) <= 12;\r\n    const dayValidate = Number(date.split('/')[0]) <= 31;\r\n    const fullDateValidate = date.length === 10 ? true : false;\r\n    const birthdayValidate = (yearValidate && monthValidate && dayValidate && fullDateValidate) ? true : false;\r\n    return birthdayValidate;\r\n}\r\n\r\n\r\n\r\nexport { isEmpty, isEmail, isBirthday }","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./update.vue?vue&type=style&index=0&id=f46ed578&lang=css\"","<template>\r\n  <div class=\"my-6\">\r\n    <h3 class=\"font-bold text-primary\">Detalhes da doação / {{userData.name}}</h3>\r\n    <span class=\"text-sm text-gray-500\"\r\n      >Olá, está sendo exibida as informações da doação do <b>{{userData.name}}</b>, \r\n      {{ document }} {{userData.document}},\r\n      email {{userData.email}},\r\n      com o telefone de contato {{userData.phone_number}}.\r\n    </span>\r\n  </div>\r\n\r\n  <div class=\"shadow-sm bg-white border p-8\">\r\n    <span class=\"lg:inline-grid w-full grid-cols-3 gap-x-4\">\r\n      <div class=\"customize inline-block flex-1 m-3\">\r\n        <Input\r\n          v-model=\"data.notification_type\"\r\n          type=\"radio\"\r\n          label=\"Tipo de notificação\"\r\n          name=\"notification_type\"\r\n          :data=\"[\r\n            { label: 'WhatsApp', value: 'WHATSAPP' },\r\n            { label: 'Email', value: 'EMAIL' }\r\n          ]\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"customize inline-block flex-1 m-3\">\r\n        <Input\r\n          v-model=\"data.recurrence_interval\"\r\n          type=\"default\"\r\n          label=\"Recorrência\"\r\n          placeholder=\"Selecione um item\"\r\n          readonly\r\n        />\r\n      </div>\r\n\r\n      <div v-if=\"data.recurrence_interval === 'Única'\" class=\"customizeSchedule col-span-2 inline-block flex-1 m-3\">\r\n        <Input\r\n          v-model=\"schedulePayment\"\r\n          type=\"radio\"\r\n          label=\"Deseja agendar o pagamento?\"\r\n          name=\"schedule_payment\"\r\n          :data=\"[\r\n            { label: 'Sim', value: '1' },\r\n            { label: 'Não', value: '0' }\r\n          ]\"\r\n        />\r\n      </div>\r\n\r\n      <div v-if=\"data.recurrence_interval === 'Mensal' || schedulePayment === '1'\" class=\"customize inline-block flex-1 m-3\">\r\n        <Input\r\n          v-model=\"data.recurrence_day\"\r\n          type=\"radio\"\r\n          label=\"Dia da doação\"\r\n          :data=\"[\r\n            { label: 'Dia 5', value: 5 },\r\n            { label: 'Dia 10', value: 10 },\r\n            { label: 'Dia 15', value: 15 },\r\n            { label: 'Dia 20', value: 20 },\r\n          ]\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"customize inline-block flex-1 m-3\">\r\n        <Input\r\n          v-model=\"data.fixed_value\"\r\n          type=\"money\"\r\n          label=\"Valor\"\r\n          placeholder=\"Valor\"\r\n        />\r\n      </div>\r\n    </span>\r\n  </div>\r\n  <div class=\"flex justify-end mt-5  mb-10\">\r\n    <Button @click=\"update\" color=\"primary\" :text=\"`Salvar`\" />\r\n  </div>\r\n\r\n  <hr>\r\n\r\n    <h3 class=\"font-bold text-primary mt-5\">Transações</h3>\r\n    <div class=\"card mt-10 mb-20\">\r\n      <DataTable\r\n          :headers=\"headers\"\r\n          :data=\"transactions\"\r\n          :options=\"options\"\r\n          :exports=\"true\"\r\n          color=\"primary\"\r\n      />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Input from \"../../../../components/Elements/Input.vue\";\r\nimport Button from \"../../../../components/Elements/Button.vue\";\r\nimport DataTable from \"../../../../components/Elements/Datatable.vue\";\r\nimport { inject, ref, onMounted } from \"vue\";\r\nimport { GET, PUT } from \"../../../../services/api\";\r\nimport { isEmpty } from \"../../../../services/validate\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { numberToCnpj, numberToCpf, toCelPhone, toPhone } from '@/services/formater';\r\n\r\n\r\nexport default {\r\n  name: \"createUser\",\r\n  components: {\r\n    Input,\r\n    Button,\r\n    DataTable\r\n  },\r\n\r\n  setup() {\r\n\r\n    const loader = inject(\"loading\");\r\n    const modal = inject(\"modal\");\r\n    const alert = inject(\"alert\");\r\n    const router = useRouter();\r\n    const alertProps = inject(\"alert\");\r\n    const route = useRoute();\r\n    //DATA\r\n    const data = ref({\r\n      'recurrence_day': \"\",\r\n      'recurrence_interval': \"\",\r\n      'notification_type': \"EMAIL\",\r\n      \"payment_type\": \"PIX\",\r\n      'fixed_value': \"\",\r\n    });\r\n    const userData = ref([]);\r\n    const transactions = ref({});\r\n    const document = ref('');\r\n    const schedulePayment = ref('');\r\n\r\n    const headers = [\r\n      { key: \"ID\", value: \"id\"},\r\n      { key: \"Data criação\", value: \"created_at\", date: true},\r\n      { key: \"Valor\", value: \"value\", money: true},\r\n      { \r\n        key: \"Status\", \r\n        value: \"status\", \r\n        badge: { \r\n          \"PAGO\": \"green\", \r\n          \"PENDENTE\": \"red\",\r\n          \"EXPIRADO\": \"yellow\"\r\n        } \r\n      },\r\n      { key: \"Pix\", value: \"pix\", copy: true}\r\n    ];\r\n    //*\r\n\r\n    const update = async () => {\r\n      const handle = async () => {\r\n        data.value.recurrence_interval === 'Única' && schedulePayment.value !== '1' && (data.value['recurrence_day'] = '0');\r\n        const validate = isEmpty(data.value);\r\n        if (validate) {\r\n          alert.open(\"Atenção!\", validate, \"warning\");\r\n        } else if(data.value.fixed_value.includes('R$') && (data.value.fixed_value.split(' ')[1] === '' || data.value.fixed_value.split(' ')[1] === undefined || parseInt(data.value.fixed_value.split(' ')[1]) === 0)) {\r\n          alert.open(\"Atenção!\", '*Valor não reconhecido', \"warning\");\r\n        } else {\r\n          loader.open();\r\n          try {\r\n            //Retirar o R$\r\n            (data.value['fixed_value'].split(' ')[1]) \r\n              && (data.value['fixed_value'] = data.value.fixed_value.split(' ')[1]);\r\n            //eliminar pontos\r\n            if(data.value['fixed_value'].length > 6) {\r\n              data.value['fixed_value'] = data.value.fixed_value.split('.').join('');\r\n            }\r\n            //Subs , por .\r\n            data.value['fixed_value'] = data.value.fixed_value.replace(',', '.');\r\n\r\n            await PUT(`donations/users/invited/${route.params.id}/unique`, data.value);\r\n            transactions.value = await GET(`transactions/donations/${route.params.id}`);\r\n            transactions.value.map( transaction => {\r\n              switch (transaction.status) {\r\n                case 'PENDING':\r\n                  transaction.status = 'PENDENTE'\r\n                  break;\r\n                case 'PAID':\r\n                  transaction.status = 'PAGO';\r\n                  break;\r\n                case 'EXPIRED':\r\n                  transaction.status = 'EXPIRADO'\r\n              }\r\n            })\r\n            alert.open(\r\n              \"Sucesso!\",\r\n              `Doação editada com sucesso!`,\r\n              \"success\"\r\n            );\r\n            loader.close();\r\n          } catch (e) {\r\n            loader.close();\r\n            if(e.includes(\"Token\")) {\r\n              alert.open(\"Atenção!\", e, \"danger\");\r\n              localStorage.removeItem('token');\r\n              localStorage.removeItem('info');\r\n              router.push('/login');\r\n            } else {\r\n              alert.open(\"Atenção!\", e, \"danger\");\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n      const cancelFunction = () => {\r\n        modal.close()\r\n      };\r\n\r\n      modal.open({\r\n        title: \"Atenção\",\r\n        message: \"Deseja realmente editar essa doação?\",\r\n        confirmMessage: \"Confirmar\",\r\n        callbackOK: () => handle(),\r\n        callbackCancel: () => cancelFunction(),\r\n      })\r\n    };\r\n\r\n    onMounted(async () => {\r\n      try {\r\n        loader.open();\r\n        userData.value = await GET(`users/${route.path.split('/').slice(3, 4).toString()}`);\r\n        if (userData.value.document.length > 11) {\r\n          userData.value.document = numberToCnpj(userData.value.document);\r\n          document.value = 'CNPJ';\r\n        } else{\r\n          userData.value.document = numberToCpf(userData.value.document);\r\n          document.value = 'CPF';\r\n        }\r\n        userData.value.phone_number.length > 10\r\n          ? userData.value['phone_number'] = toCelPhone(userData.value.phone_number)\r\n          : userData.value['phone_number'] = toPhone(userData.value.phone_number);\r\n\r\n        data.value = await GET(`donations/${route.params.id}`);\r\n        data.value['recurrence_interval'] = data.value.recurrence_interval === \"UNICA\" ? \"Única\" : \"Mensal\";\r\n        data.value['fixed_value'] = data.value['fixed_value'].replace('.', ',');\r\n        schedulePayment.value = data.value.recurrence_interval === 'MENSAL' || (data.value.recurrence_interval === 'UNICA' && (data.value.recurrence_day > 0 && data.value.recurrence_day < 25))\r\n          ? '1'\r\n          : '0';\r\n        transactions.value = await GET(`transactions/donations/${route.params.id}`);\r\n        transactions.value.map( transaction => {\r\n          switch (transaction.status) {\r\n            case 'PENDING':\r\n              transaction.status = 'PENDENTE'\r\n              break;\r\n            case 'PAID':\r\n              transaction.status = 'PAGO';\r\n              break;\r\n            case 'EXPIRED':\r\n              transaction.status = 'EXPIRADO'\r\n          }\r\n        })\r\n        loader.close();\r\n      } catch (e) {\r\n        loader.close();\r\n        alert.open(\"Erro\", e, \"danger\");\r\n      }\r\n    });\r\n\r\n    return {\r\n      alertProps,\r\n      data,\r\n      userData,\r\n      update,\r\n      route,\r\n      transactions,\r\n      headers,\r\n      document,\r\n      schedulePayment\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n@media screen and (max-width: 1023px){\r\n  .customize{\r\n    width: 179px;\r\n  }\r\n}\r\n</style>","import { render } from \"./update.vue?vue&type=template&id=f46ed578\"\nimport script from \"./update.vue?vue&type=script&lang=js\"\nexport * from \"./update.vue?vue&type=script&lang=js\"\n\nimport \"./update.vue?vue&type=style&index=0&id=f46ed578&lang=css\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}