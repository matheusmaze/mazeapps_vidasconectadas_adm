{"version":3,"sources":["webpack:///./src/services/validate.ts","webpack:///./src/views/RedefinirSenha.vue","webpack:///./src/views/RedefinirSenha.vue?6a73","webpack:///./src/views/RedefinirSenha.vue?40b7"],"names":["isEmpty","payload","emptyFields","Object","entries","forEach","element","push","returnMessage","el","isEmail","email","re","test","String","toLowerCase","isBirthday","date","year","Date","getFullYear","yearValidate","split","length","Number","monthValidate","dayValidate","fullDateValidate","birthdayValidate","class","aria-hidden","src","alt","user","type","label","placeholder","color","text","resetPassword","name","components","Input","Button","setup","alert","loader","router","open","validate","value","emailValidate","close","render","__scopeId"],"mappings":"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","file":"js/chunk-56f65b36.9383ad2a.js","sourcesContent":["const isEmpty = (payload: object)  => {\r\n    const emptyFields: Array<string | void> = []\r\n    Object.entries(payload).forEach(element => {\r\n        if(element[1] === \"\"){\r\n            emptyFields.push(element[0])\r\n        }\r\n    });\r\n    let returnMessage = \"\"\r\n    emptyFields.forEach(el => {\r\n        el === 'name' ? el = 'Nome' : el;\r\n        el === 'birthday' ? el = 'Data de aniversário' : el;\r\n        el === 'document' ? el = 'CPF ou CNPJ' : el;\r\n        el === 'cpf' ? el = 'CPF' : el;\r\n        el === 'cnpj' ? el = 'CNPJ' : el;\r\n        el === 'phone_number' ? el = 'Whatsapp' : el;\r\n        el === 'email' ? el = 'E-mail' : el;\r\n        el === 'password' ? el = 'Senha' : el;\r\n        el === 'welcome_email' ? el = 'Boas-vindas' : el;\r\n        el === 'blood_donator' ? el = 'Doador de sangue' : el;\r\n        el === 'code' ? el = 'Código' : el;\r\n        el === 'logo' ? el = 'Logotipo' : el;\r\n        el === 'value' || el === 'fixed_value' ? el = 'Valor' : el;\r\n        el === 'description' ? el = 'Descrição' : el;\r\n        el === 'recurrence_day' ? el = 'Dia da doação' : el;\r\n        el === 'recurrence_interval' ? el = 'Recorrência' : el;\r\n        el === 'institutions_id' ? el = 'Instituição' : el;\r\n        el === 'users_id' ? el = 'Comprador' : el;\r\n        el === 'purchase_voucher' ? el = 'Comprovante de compra' : el;\r\n        el === 'created_at' || el === 'updated_at' ? el = 'Data' : el;\r\n\r\n        returnMessage += `* O Campo <b>${el}</b> está vazio <br/>`\r\n    })\r\n    return returnMessage\r\n}\r\n\r\n//isEmail retornará uma string em vez de boolean\r\nconst isEmail = (email: string): string => {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    const test = re.test(String(email).toLowerCase());\r\n    let returnMessage = \"\";\r\n    if(!test){\r\n        returnMessage = '* Email inválido.';\r\n    }\r\n    return returnMessage;\r\n}\r\n\r\nconst isBirthday = (date: string): boolean => {\r\n    const year = new Date().getFullYear();\r\n    let yearValidate = false;\r\n    if(date.split('/')[2] && date.split('/')[2].length === 4) {\r\n        if (Number(date.split('/')[2]) > (year - 110) && Number(date.split('/')[2]) <= year) {\r\n            yearValidate = true;\r\n        }\r\n    }\r\n    const monthValidate = Number(date.split('/')[1]) <= 12;\r\n    const dayValidate = Number(date.split('/')[0]) <= 31;\r\n    const fullDateValidate = date.length === 10 ? true : false;\r\n    const birthdayValidate = (yearValidate && monthValidate && dayValidate && fullDateValidate) ? true : false;\r\n    return birthdayValidate;\r\n}\r\n\r\n\r\n\r\nexport { isEmpty, isEmail, isBirthday }","<template>\r\n  <div class=\"flex items-center justify-center min-h-screen p-6 bg-quaternary dark:bg-gray-900\">\r\n    <div\r\n      class=\"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800\"\r\n    >\r\n        <div class=\"flex flex-col overflow-y-auto md:flex-row\">\r\n            <div class=\"logoContainer h-32 md:h-auto md:w-1/2\">\r\n                <img\r\n                    aria-hidden=\"true\"\r\n                    class=\"logo object-cover dark:hidden\"\r\n                    src=\"favicon.ico\"\r\n                    alt=\"Office\"\r\n                />\r\n            </div>\r\n            <div  class=\"flex-col items-center justify-center p-6 sm:p-12 md:w-1/2\">\r\n                <h1 class=\"mb-4 text-3xl text-center text-gray-700 dark:text-gray-200\">\r\n                    Esqueci minha senha\r\n                </h1>\r\n\r\n                <p class=\"mb-4 m-auto my-10 text-justify text-gray-700 dark:text-gray-200\">\r\n                    Para redefinir sua senha, informe o e-mail cadastrado na sua conta \r\n                    e lhe enviaremos uma mensagem contendo a nova senha gerada automaticamente.\r\n                </p>\r\n\r\n                <div class=\"m-auto my-10\">\r\n                    <Input\r\n                        v-model=\"user.email\"\r\n                        type=\"default\"\r\n                        label=\"Email\"\r\n                        placeholder=\"Email\"\r\n                    />\r\n                </div>\r\n\r\n                <div class=\"m-auto mt-10\">\r\n                    <Button type=\"mobile\" color=\"primary\" :text=\"`Continuar`\" @click=\"resetPassword\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { inject, ref } from \"vue\";\r\nimport Input from '@/components/Elements/Input.vue';\r\nimport Button from '../components/Elements/Button.vue'\r\nimport { isEmail, isEmpty } from \"../services/validate\";\r\nimport { PUT } from '@/services/api';\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  components: {\r\n    Input,\r\n    Button\r\n  },\r\n  setup() {\r\n    const alert = inject(\"alert\");\r\n    const loader = inject(\"loading\");\r\n    const router = useRouter();\r\n\r\n    const user = ref({\r\n      email: \"\",\r\n    });\r\n\r\n    const resetPassword = async () => {\r\n        loader.open();\r\n        const validate = isEmpty(user.value);\r\n        const emailValidate = isEmail(user.value.email);\r\n        if(validate || emailValidate) {\r\n            emailValidate && alert.open(\"Atenção!\", emailValidate, \"warning\");\r\n            validate && alert.open(\"Atenção!\", validate, \"warning\");\r\n        } else {\r\n            try {\r\n                await PUT('reset_password', user.value);\r\n                alert.open(\"Sucesso!\", `Mensagem encaminhada com sucesso para ${user.value.email}.`, \"success\");\r\n                router.push('/login');\r\n                loader.close();\r\n            } catch (e) {\r\n                alert.open(\"Atenção!\", e, \"danger\");\r\n                loader.close();\r\n            }\r\n        }\r\n    };\r\n\r\n    return { user, resetPassword };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n    .logo{\r\n        width: 286px;\r\n        height: 238.59px;\r\n        margin: 0 auto;\r\n    }\r\n\r\n    .logoContainer{\r\n        margin-bottom: 4rem;\r\n    }\r\n\r\n  @media only screen and (min-width: 768px) {\r\n      .logo{\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n\r\n      .logoContainer{\r\n            margin-bottom: 0;\r\n        }\r\n  }\r\n</style>\r\n","import { render } from \"./RedefinirSenha.vue?vue&type=template&id=6f53f088&scoped=true\"\nimport script from \"./RedefinirSenha.vue?vue&type=script&lang=js\"\nexport * from \"./RedefinirSenha.vue?vue&type=script&lang=js\"\n\nimport \"./RedefinirSenha.vue?vue&type=style&index=0&id=6f53f088&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-6f53f088\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RedefinirSenha.vue?vue&type=style&index=0&id=6f53f088&scoped=true&lang=css\""],"sourceRoot":""}