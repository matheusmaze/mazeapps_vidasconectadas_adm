{"version":3,"sources":["webpack:///./src/services/validate.ts","webpack:///./src/views/Padrinhos/Doadores/DoadoresId/index.vue?b54f","webpack:///./src/views/Padrinhos/Doadores/DoadoresId/index.vue","webpack:///./src/views/Padrinhos/Doadores/DoadoresId/index.vue?7e94"],"names":["isEmpty","payload","emptyFields","Object","entries","forEach","element","push","returnMessage","el","isEmail","email","re","test","String","toLowerCase","isBirthday","date","year","Date","getFullYear","yearValidate","split","length","Number","monthValidate","dayValidate","fullDateValidate","birthdayValidate","class","userData","name","type","label","placeholder","document","readonly","birthday","phone_number","blood_donator","data","update","color","text","headers","options","to","route","path","components","Button","DataTable","Input","setup","key","value","money","badge","router","modal","alert","loader","handle","emailValidate","validate","open","month","day","id","response","user","close","cancelFunction","title","message","confirmMessage","callbackOK","callbackCancel","params","donationStatus","map","status","includes","localStorage","removeItem","deleteItem","donation","deleteFunction","show","splice","join","icon","action","param","render"],"mappings":"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","file":"js/chunk-636baf9c.4114e857.js","sourcesContent":["const isEmpty = (payload: object)  => {\r\n    const emptyFields: Array<string | void> = []\r\n    Object.entries(payload).forEach(element => {\r\n        if(element[1] === \"\"){\r\n            emptyFields.push(element[0])\r\n        }\r\n    });\r\n    let returnMessage = \"\"\r\n    emptyFields.forEach(el => {\r\n        el === 'name' ? el = 'Nome' : el;\r\n        el === 'birthday' ? el = 'Data de aniversário' : el;\r\n        el === 'document' ? el = 'CPF ou CNPJ' : el;\r\n        el === 'cpf' ? el = 'CPF' : el;\r\n        el === 'cnpj' ? el = 'CNPJ' : el;\r\n        el === 'phone_number' ? el = 'Whatsapp' : el;\r\n        el === 'email' ? el = 'E-mail' : el;\r\n        el === 'password' ? el = 'Senha' : el;\r\n        el === 'welcome_email' ? el = 'Boas-vindas' : el;\r\n        el === 'blood_donator' ? el = 'Doador de sangue' : el;\r\n        el === 'code' ? el = 'Código' : el;\r\n        el === 'logo' ? el = 'Logotipo' : el;\r\n        el === 'value' || el === 'fixed_value' ? el = 'Valor' : el;\r\n        el === 'description' ? el = 'Descrição' : el;\r\n        el === 'recurrence_day' ? el = 'Dia da doação' : el;\r\n        el === 'recurrence_interval' ? el = 'Recorrência' : el;\r\n        el === 'institutions_id' ? el = 'Instituição' : el;\r\n        el === 'users_id' ? el = 'Comprador' : el;\r\n        el === 'purchase_voucher' ? el = 'Comprovante de compra' : el;\r\n        el === 'created_at' || el === 'updated_at' ? el = 'Data' : el;\r\n\r\n        returnMessage += `* O Campo <b>${el}</b> está vazio <br/>`\r\n    })\r\n    return returnMessage\r\n}\r\n\r\n//isEmail retornará uma string em vez de boolean\r\nconst isEmail = (email: string): string => {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    const test = re.test(String(email).toLowerCase());\r\n    let returnMessage = \"\";\r\n    if(!test){\r\n        returnMessage = '* Email inválido.';\r\n    }\r\n    return returnMessage;\r\n}\r\n\r\nconst isBirthday = (date: string): boolean => {\r\n    const year = new Date().getFullYear();\r\n    let yearValidate = false;\r\n    if(date.split('/')[2] && date.split('/')[2].length === 4) {\r\n        if (Number(date.split('/')[2]) > (year - 110) && Number(date.split('/')[2]) <= year) {\r\n            yearValidate = true;\r\n        }\r\n    }\r\n    const monthValidate = Number(date.split('/')[1]) <= 12;\r\n    const dayValidate = Number(date.split('/')[0]) <= 31;\r\n    const fullDateValidate = date.length === 10 ? true : false;\r\n    const birthdayValidate = (yearValidate && monthValidate && dayValidate && fullDateValidate) ? true : false;\r\n    return birthdayValidate;\r\n}\r\n\r\n\r\n\r\nexport { isEmpty, isEmail, isBirthday }","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=cf409ed8&lang=css\"","<template>\r\n  <div class=\"w-full mt-6 mb-8\">\r\n    <h3 class=\"font-bold text-primary\">Doador / {{userData.name}}</h3>\r\n    <span class=\"text-sm text-gray-500\"\r\n      >Aqui você pode observar todos os itens relacionados ao doador {{userData.name}}, como\r\n      suas respectivas ações.\r\n    </span>\r\n  </div>\r\n  <div class=\"shadow-sm bg-white border p-8\">\r\n    <span class=\"lg:inline-grid w-full grid-cols-3 gap-x-4\">\r\n      <div class=\"inline-block flex-1 m-3\">\r\n        <Input\r\n          v-model=\"userData.name\"\r\n          type=\"default\"\r\n          label=\"Nome\"\r\n          placeholder=\"Nome do Usuário\"\r\n        />\r\n      </div>\r\n      <div class=\"inline-block flex-1 m-3\">\r\n        <Input\r\n          v-model=\"userData.document\"\r\n          type=\"default\"\r\n          label=\"CPF ou CNPJ\"\r\n          readonly\r\n        />\r\n      </div>\r\n      <div class=\"inline-block flex-1 m-3\">\r\n        <Input\r\n          v-model=\"userData.birthday\"\r\n          type=\"birthday\"\r\n          placeholder=\"XX/XX/XXXX\"\r\n          label=\"Data de aniversário\"\r\n        />\r\n      </div>\r\n    </span>\r\n    <span class=\"lg:inline-grid w-full grid-cols-3 gap-x-4\">\r\n      <div class=\"inline-block flex-1 m-3\">\r\n        <Input\r\n          v-model=\"userData.phone_number\"\r\n          type=\"whats\"\r\n          label=\"WhatsApp\"\r\n          placeholder=\"WhatsApp\"\r\n        />\r\n      </div>\r\n      <div class=\"inline-block flex-1 m-3\">\r\n        <Input\r\n          v-model=\"userData.email\"\r\n          type=\"default\"\r\n          label=\"E-mail\"\r\n          placeholder=\"E-mail\"\r\n        />\r\n      </div>\r\n      <div class=\"customize inline-block flex-1 m-3\">\r\n        <Input\r\n          v-model=\"userData.blood_donator\"\r\n          type=\"select\"\r\n          label=\"É doador de sangue?\"\r\n          placeholder=\"Selecione um item\"\r\n          :data=\"[\r\n            { label: 'Sim', value: '1' },\r\n            { label: 'Não', value: 'nao' }\r\n          ]\"\r\n        />\r\n      </div>\r\n    </span>\r\n  </div>\r\n  <div class=\"flex justify-end mt-5 mb-10\">\r\n    <Button @click=\"update\" color=\"primary\" :text=\"`Salvar`\" />\r\n  </div>\r\n\r\n  <hr>\r\n\r\n  <h3 class=\"font-bold text-primary mt-5\">Doações</h3>\r\n  <div class=\"card mt-10 mb-20\">\r\n    <DataTable\r\n      :headers=\"headers\"\r\n      :data=\"data\"\r\n      :options=\"options\"\r\n      color=\"primary\"\r\n    />\r\n    <div class=\"flex justify-end mt-5\">\r\n      <router-link :to=\"`${route.path}/criar`\">\r\n        <Button color=\"primary\" :text=\"`Criar Doação`\" />\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Button from \"../../../../components/Elements/Button.vue\";\r\nimport Input from \"../../../../components/Elements/Input.vue\";\r\nimport DataTable from \"../../../../components/Elements/Datatable.vue\";\r\nimport { inject, onMounted, ref } from \"vue\";\r\nimport { GET, DELETE, PUT } from \"../../../../services/api\";\r\nimport { isEmpty, isEmail, isBirthday } from \"../../../../services/validate\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { numberToCnpj, numberToCpf, toCelPhone, toDate, toPhone } from '@/services/formater';\r\n\r\nexport default {\r\n  name: \"user\",\r\n  components: {\r\n    Button,\r\n    DataTable,\r\n    Input\r\n  },\r\n  setup() {\r\n    const headers = [\r\n      { key: \"ID\", value: \"id\"},\r\n      { key: \"Data\", value: \"created_at\", date: true},\r\n      { key: \"Valor\", value: \"fixed_value\", money: true},\r\n      { key: \"Tipo\", value: \"recurrence_interval\"},\r\n      { \r\n        key: \"Status\", \r\n        value: \"donationStatus\", \r\n        badge: { \r\n          \"Ativa\": \"green\", \r\n          \"Inativa\": \"red\"\r\n        } \r\n      },\r\n      { key: \"Opções\", value: \"\"}\r\n    ];\r\n\r\n\r\n    const route = useRoute();\r\n    const router = useRouter();\r\n    const modal = inject(\"modal\");\r\n    const alert = inject(\"alert\");\r\n    const loader = inject(\"loading\");\r\n\r\n    const userData = ref([]);\r\n    const data = ref([]);\r\n\r\n    const update = async () => {\r\n      const handle = async () => {\r\n        const emailValidate = isEmail(userData.value.email);\r\n        const birthdayValidate = isBirthday(userData.value.birthday);\r\n        const validate = isEmpty(userData.value);\r\n        if (validate || emailValidate || !birthdayValidate) {\r\n          if(validate){\r\n            alert.open(\"Atenção!\", validate, \"warning\");\r\n          } else if (emailValidate){\r\n            alert.open(\"Atenção!\", emailValidate, \"warning\");\r\n          } else {\r\n            alert.open(\"Atenção!\", \"*Data de aniversário inválida.\", \"warning\");\r\n          }\r\n        } else {\r\n          loader.open();\r\n          const year = userData.value.birthday.split('/')[2];\r\n          const month = userData.value.birthday.split('/')[1];\r\n          const day = userData.value.birthday.split('/')[0];\r\n          try {\r\n            //corrigindo o valor a ser encaminhado para o backend caso a opcao \"Não\" seja selecionada\r\n            userData.value['blood_donator'] === 'nao' && (userData.value['blood_donator'] = '0')\r\n            userData.value.birthday = `${year}-${month}-${day}`;\r\n            const response = await PUT(`users/${userData.value.id}`, userData.value);\r\n            alert.open(\r\n              \"Sucesso!\",\r\n              `Doador\r\n              <b>${response.user.name}</b> editado com sucesso!`,\r\n              \"success\"\r\n            );\r\n            userData.value['blood_donator'] == 0 && (userData.value['blood_donator'] = 'nao');\r\n            userData.value.birthday = toDate(userData.value.birthday);\r\n            loader.close();\r\n          } catch (e) {\r\n            alert.open(\"Atenção!\", e, \"danger\");\r\n            userData.value['blood_donator'] === '0' && (userData.value['blood_donator'] = 'nao')\r\n            userData.value.birthday = `${day}/${month}/${year}`;\r\n            loader.close();\r\n          }\r\n        }\r\n      };\r\n\r\n      const cancelFunction = () => {\r\n        modal.close()\r\n      }\r\n\r\n      modal.open({\r\n        title: \"Atenção\",\r\n        message: \"Deseja realmente editar esse doador?\",\r\n        confirmMessage: \"Confirmar\",\r\n        callbackOK: () => handle(),\r\n        callbackCancel: () => cancelFunction(),\r\n      })\r\n    };\r\n\r\n    onMounted(async () => {\r\n      try {\r\n        loader.open();\r\n        userData.value = await GET(`users/${route.params.id}`);\r\n        userData.value.document.length > 11\r\n          ? userData.value.document = numberToCnpj(userData.value.document)\r\n          : userData.value.document = numberToCpf(userData.value.document);\r\n        userData.value.phone_number.length > 10\r\n          ? userData.value['phone_number'] = toCelPhone(userData.value.phone_number)\r\n          : userData.value['phone_number'] = toPhone(userData.value.phone_number);\r\n        userData.value['blood_donator'] == 0 && (userData.value['blood_donator'] = 'nao');\r\n        userData.value.birthday = toDate(userData.value.birthday);\r\n        data.value = await GET(`donations/users/${route.params.id}`);\r\n        data.value.donationStatus = '';\r\n        data.value.map( el => {\r\n          el.status === 'ACTIVE' ? (el.donationStatus = \"Ativa\") : (el.donationStatus = \"Inativa\");\r\n        });\r\n        loader.close();\r\n      } catch (e) {\r\n        loader.close();\r\n        if(e.includes(\"Token\")) {\r\n          alert.open(\"Atenção!\", e, \"danger\");\r\n          localStorage.removeItem('token');\r\n          localStorage.removeItem('info');\r\n          router.push('/login');\r\n        } else {\r\n          alert.open(\"Atenção!\", e, \"danger\");\r\n        }\r\n      }\r\n    });\r\n\r\n    const deleteItem = (donation) => {\r\n      const deleteFunction = async function () {\r\n        loader.open();\r\n        try {\r\n          loader.open();\r\n          await DELETE(`donations/${donation.id}`);\r\n          data.value = await GET(`donations/users/${route.params.id}`);\r\n          data.value.donationStatus = '';\r\n          data.value.map( el => {\r\n            el.status == 'ACTIVE' ? (el.donationStatus = \"Ativa\") : (el.donationStatus = \"Inativa\");\r\n          });\r\n          loader.close();\r\n          alert.open(\"Sucesso!\", `Doação desativada com sucesso!`, \"success\");\r\n        } catch (e) {\r\n          loader.close();\r\n          alert.open(\"Erro\", e, \"danger\");\r\n        }\r\n      };\r\n\r\n      const cancelFunction = () => {\r\n        modal.close()\r\n      }\r\n     \r\n      modal.open({\r\n        title: \"Atenção\",\r\n        message: \"Deseja realmente desativar essa doação?\",\r\n        confirmMessage: \"Confirmar\",\r\n        callbackOK: () => deleteFunction(),\r\n        callbackCancel: () => cancelFunction(),\r\n      })\r\n\r\n\r\n      loader.close();\r\n    };\r\n\r\n    const show = (donation) => {\r\n      router.push(`${route.path.split('/').splice(0, 4).join('/')}/editar/${donation.id}`);\r\n    };\r\n\r\n    const options = [\r\n      { icon: \"pen\", action: (param) => show(param), title: 'Detalhes da doação' },\r\n      { icon: \"trash\", action: (param) => deleteItem(param), title: 'Desativar doação' },\r\n    ];\r\n\r\n    return { headers, route, options, data, userData, update };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n@media screen and (max-width: 1023px){\r\n  .customize{\r\n    width: 179px;\r\n  }\r\n}\r\n</style>","import { render } from \"./index.vue?vue&type=template&id=cf409ed8\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=cf409ed8&lang=css\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}